{"componentChunkName":"component---src-components-article-template-js","path":"/docs/zendesk-v2-integration-guide","result":{"data":{"mdx":{"id":"05e53586-8f0a-52f1-8565-cbb967b44081","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Zendesk v2 Integration Guide | PagerDuty\",\n  \"slug\": \"zendesk-v2-integration-guide\",\n  \"hidden\": true,\n  \"createdAt\": \"2019-09-16T22:15:54.726Z\",\n  \"updatedAt\": \"2020-11-05T00:35:40.577Z\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"#Zendesk + PagerDuty Integration Benefits\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The Zendesk integration uses Extensions, Targets and Triggers to send Zendesk Support Ticket events to PagerDuty, triggering incidents.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The PagerDuty app for Zendesk retrieves and interacts with the PagerDuty incident from the Zendesk User Interface.\")), mdx(\"p\", null, \"#How it Works\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Ticket events are sent from Zendesk in JSON format to PagerDuty's Events API based on the Conditions and Actions set during Trigger configuration in Zendesk. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"These events will turn into incidents in PagerDuty, notifying the configured service\\u2019s on-call responders. \")), mdx(\"p\", null, \"#Requirements\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"In PagerDuty\"), \": A base role of Manager or higher is required to configure this integration. If you're not sure what role you have, or if you need your permissions adjusted, visit our sections on \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/v1/docs/user-roles#section-checking-your-user-role\"\n  }), \"Checking Your User Role\"), \" or \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/user-roles#section-changing-user-roles\"\n  }), \"Changing User Roles\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"In Zendesk\"), \": An Administrator role or higher is required to install the app and configure extensions and Triggers.\\n\", \"[block:callout]\", \"\\n{\\n\\\"type\\\": \\\"info\\\",\\n\\\"title\\\": \\\"Looking for a Different Version?\\\",\\n\\\"body\\\": \\\"Our \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.pagerduty.com/docs/guides/zendesk-v1-integration-guide/\"\n  }), \"Zendesk V1 integration guide\"), \" is also available.\\\"\\n}\\n\", \"[/block]\", \"\\n#Integration Walkthrough\")), mdx(\"p\", null, \"##In PagerDuty\"), mdx(\"p\", null, \"There are two ways that Zendesk can be integrated with PagerDuty: via Global Event Rules or through an integration on a PagerDuty Service. \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/global-event-rules\"\n  }), \"Global Event Rules\"), \" may be beneficial if you want to build different routing rules based on the payload coming from Zendesk. \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/services-and-integrations#section-configuring-services-and-integrations\"\n  }), \"Integrating with a PagerDuty service\"), \" may be beneficial if you don't need to route alerts from Zendesk to different responders based on the event payload.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Note: If you are integrating Zendesk with an existing PagerDuty service, please skip to the \", mdx(\"strong\", {\n    parentName: \"em\"\n  }, \"Integrating with a PagerDuty Service\"), \" section of this guide.\")), mdx(\"p\", null, \"###Integrating With Global Event Rules\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"From the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Services\"), \" menu, select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Event Rules\"), \" and click your \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Default Global Ruleset\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"On the Event Rules screen, click on the arrow next to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Incoming Event Source\"), \" to display the Integration key information. Copy your \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Integration Key\"), \" and keep it in a safe place for later use. When you have finished setting up the integration, you will return to this interface to specify how to route events from Zendesk to services in PagerDuty. Please continue to the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"In Zendesk\"), \" section of this guide.\\n\", \"[block:image]\", \"\\n{\\n\\\"images\\\": [\\n{\\n\\\"image\\\": \", \"[\\n\\\"https://files.readme.io/98e6ad0-cloudwatch-copy-key.png\\\",\\n\\\"cloudwatch-copy-key.png\\\",\\n2146,\\n980,\\n\\\"#f7f6f7\\\"\\n]\", \"\\n}\\n]\\n}\\n\", \"[/block]\", \"\\n###Integrating With a PagerDuty Service\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"In the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Services\"), \" menu, select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Service Directory\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"If you are adding your integration to an existing service\"), \": Click the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"name\"), \" of the service, select the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Integrations tab\"), \", click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Add a new integration\"), \" and continue to step 3.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"If you are creating a new service for your integration\"), \": Please read our documentation in section \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/services-and-integrations#section-configuring-services-and-integrations\"\n  }), \"Configuring Services and Integrations\"), \" and follow the steps outlined in the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/services-and-integrations#section-create-a-new-service\"\n  }), \"Create a New Service\"), \" section, selecting \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Zendesk API\"), \" as the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Integration Type\"), \" in step 4. Continue with step 4 (below) once you have finished these steps.\"))), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Enter an \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Integration Name\"), \" in the format \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ZendeskAPI-Service-Name\"), \" (e.g., \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ZenDeskAPI-Support-Tickets\"), \") and select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Zendesk API\"), \" from the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Integration Type\"), \" menu. Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Add Integration\"), \".\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"On the next screen, you will see the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Integration Key\"), \" for this integration. Copy this key and keep it in a safe place for future use. \"))), mdx(\"p\", null, \"##In Zendesk\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"In the left hand menu, click the Admin :fa-cog: and select \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Extensions\"), \" under Settings.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Add Target\"), \" and then \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"HTTP Target\"), \".\\n\", \"[block:image]\", \"\\n{\\n\\\"images\\\": [\\n{\\n\\\"image\\\": \", \"[\\n\\\"https://files.readme.io/13a8bd2-zendesk-ig-add-target.png\\\",\\n\\\"zendesk-ig-add-target.png\\\",\\n1402,\\n438,\\n\\\"#f8f8f8\\\"\\n]\", \"\\n}\\n]\\n}\\n\", \"[/block]\")), mdx(\"p\", null, \"[block:image]\", \"\\n{\\n\\\"images\\\": [\\n{\\n\\\"image\\\": \", \"[\\n\\\"https://files.readme.io/c5ee6c5-zendesk-ig-http-target.png\\\",\\n\\\"zendesk-ig-http-target.png\\\",\\n1022,\\n842,\\n\\\"#f2f1f2\\\"\\n]\", \"\\n}\\n]\\n}\\n\", \"[/block]\", \"\\n3. On the HTTP Target screen, enter the following:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Title\"), \": Enter a title that will be identifiable when configuring Triggers in later steps. \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Url\"), \": Enter the following value: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"https://events.pagerduty.com/v2/enqueue\"), \". \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Method\"), \": Select \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"POST\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Content type\"), \": Select \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"JSON\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Basic Authentication\"), \": Leave \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"unchecked\"), \".\")), mdx(\"p\", null, \"Select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create Target\"), \" from the dropdown and then click the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Submit\"), \" button. \"), mdx(\"ol\", {\n    \"start\": 4\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Next, navigate back to the Admin :fa-cog: and select \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Triggers\"), \" under Business Rules. Depending on your current configuration, you have the following two options:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"If you have an existing trigger that you wish to send to PagerDuty\"), \": Click the trigger \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"name\"), \" and modify the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Actions\"), \" section by adding an action to \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Notify Target\"), \" and select the target created in step 3, above. Continue on to step 5.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"If you are creating a new trigger\"), \": Click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Add Trigger\"), \" and enter a \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Trigger name\"), \" and \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Description\"), \" that describes its desired functionality. Configure your preferred \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Conditions\"), \" that will determine when you would like Zendesk to send an event to PagerDuty. Next, in the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Actions\"), \" section, add an action to \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Notify Target\"), \" and select the target created in step 3, above. Continue on to step 5.\")))), mdx(\"ol\", {\n    \"start\": 5\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Next, you will be prompted for a JSON body that takes Zendesk Placeholder values. We have provided a sample JSON body that you can use out-of-the-box. If you want to modify the payload in any way, here are some rules to keep in mind:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"dedup_key\"), \" should follow the format of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Zendesk_[your_zendesk_subdomain]_{{ticket.id}}\"), \". The PagerDuty plugin looks for Zendesk-created incidents with that pattern as a key. Changing this may result in the App Plugin not being able to retrieve the associated PagerDuty incident.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"routing_key\"), \" determines which account or service this information should be sent to. Paste your \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Integration Key\"), \" here (depending on how you are integrating, this key was generated in step 2 of \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Integrating With Global Event Routing\"), \", or step 4 of \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Integrating With a PagerDuty Service\"), \", above). \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"event_action\"), \" determines what PagerDuty should do once this event is received. You can specify either \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"trigger\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"acknowledge\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"resolve\"), \" here.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"payload.custom_details\"), \" is a custom object that will take in additional fields in case you want to include additional information.\")))), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"{\\n  \\\"dedup_key\\\": \\\"Zendesk_[your_zendesk_subdomain]_{{ticket.id}}\\\",\\n  \\\"routing_key\\\": \\\"[your_integration_key]\\\",\\n  \\\"event_action\\\": \\\"trigger\\\",\\n  \\\"payload\\\": {\\n    \\\"summary\\\": \\\"{{ticket.title}}\\\",\\n    \\\"source\\\": \\\"{{ticket.via}}\\\",\\n    \\\"severity\\\": \\\"critical\\\",\\n    \\\"custom_details\\\": {\\n      \\\"priority\\\": \\\"{{ticket.priority}}\\\",\\n      \\\"requester_name\\\": \\\"{{ticket.requester.name}}\\\",\\n      \\\"status\\\": \\\"{{ticket.status}}\\\",\\n      \\\"description\\\": \\\"{{ticket.description}}\\\"\\n    }\\n  },\\n  \\\"client_url\\\": \\\"{{ticket.link}}\\\",\\n  \\\"client\\\": \\\"Zendesk\\\"\\n}\\n\")), mdx(\"p\", null, \"After configuring the JSON body, click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create\"), \".\"), mdx(\"ol\", {\n    \"start\": 6\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Next, navigate to the \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.zendesk.com/apps/directory/\"\n  }), \"Zendesk App Marketplace\"), \", search for PagerDuty and install the PagerDuty app.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Once you\\u2019ve installed the app, navigate back to your Zendesk account, click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"+Add\"), \" in the upper left corner and select \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Ticket\"), \". On the new ticket, click the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Apps\"), \" button on the upper right to display the PagerDuty application. Click \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"login with PagerDuty\"), \" to sign in and access PagerDuty from the Zendesk interface.\\n\", \"[block:image]\", \"\\n{\\n\\\"images\\\": [\\n{\\n\\\"image\\\": \", \"[\\n\\\"https://files.readme.io/1932123-zendesk-ig-apps-button.png\\\",\\n\\\"zendesk-ig-apps-button.png\\\",\\n736,\\n752,\\n\\\"#f8f6f6\\\"\\n]\", \"\\n}\\n]\\n}\\n\", \"[/block]\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"There are two ways to test the integration:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Modify the ticket created in the last step to meet the Conditions for the Trigger to execute. This should automatically trigger an Event API call once the Priority is set to \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"URGENT\"), \". \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You may also create a ticket after signing in to PagerDuty from the Zendesk interface and click the blue \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Create Incident\"), \" button. On the next screen, select which PagerDuty service you would like to open an incident on. \")))), mdx(\"p\", null, \"#FAQ\\n##I\\u2019m using the Business Rules Triggers in Zendesk to trigger notifications to PagerDuty, and incidents are being created, but the PagerDuty App in Zendesk is not loading the incident information on the ticket. What\\u2019s happening here?\"), mdx(\"p\", null, \"Within the JSON Payload of your Actions from the Business Rules Triggers, ensure that the formatting of the value for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"dedup_key\"), \" is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Zendesk_[your_Zendesk_subdomain]_{{ticket.id}}\"), \". For example, if the URL to your Zendesk account is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"acme.zendesk.com\"), \", the formatting of the the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"dedup_key\"), \" value should be \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Zendesk_acme_{{ticket.id}}\"), \".\"), mdx(\"p\", null, \"##Will PagerDuty create a new Zendesk ticket if there\\u2019s a non-Zendesk-generated incident on the same service?\"), mdx(\"p\", null, \"No, PagerDuty will not create a new Zendesk Support Ticket if there\\u2019s an incident that did not originate from Zendesk.\"), mdx(\"p\", null, \"##How does the PagerDuty app in Zendesk look up the incident? What if there are users that shouldn\\u2019t have access those incidents?\"), mdx(\"p\", null, \"The PagerDuty app utilizes OAuth to determine the user\\u2019s permissions to access incidents within PagerDuty. If the user does not have access to a team\\u2019s incidents, the PagerDuty app will not display that information in the side bar app.\"));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{},"frontmatter":{"title":"Zendesk v2 Integration Guide | PagerDuty"}}},"pageContext":{"id":"05e53586-8f0a-52f1-8565-cbb967b44081"}},"staticQueryHashes":[]}