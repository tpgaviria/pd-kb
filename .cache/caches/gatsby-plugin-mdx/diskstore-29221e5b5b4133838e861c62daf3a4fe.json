{"expireTime":9007200861686582000,"key":"gatsby-plugin-mdx-entire-payload-8628fb0fae177c40d131b65d71b0f029-","val":{"mdast":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"In some cases, you may want to clone your ServiceNow production data to a new dev instance. While there can be many motivations for doing so, problems with the PagerDuty integration can occur if the data is cloned without using a Clone Data Preserver. In this article we'll discuss how to avoid common issues that come with replicating an environment in ServiceNow.","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":366,"offset":365},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":366,"offset":365},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"What is the Clone Data Preserver?","position":{"start":{"line":3,"column":4,"offset":370},"end":{"line":3,"column":37,"offset":403},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":367},"end":{"line":3,"column":38,"offset":404},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The Clone Data Preserver is a feature within ServiceNow that you can use to define what data should ","position":{"start":{"line":4,"column":1,"offset":405},"end":{"line":4,"column":101,"offset":505},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"not","position":{"start":{"line":4,"column":103,"offset":507},"end":{"line":4,"column":106,"offset":510},"indent":[]}}],"position":{"start":{"line":4,"column":101,"offset":505},"end":{"line":4,"column":108,"offset":512},"indent":[]}},{"type":"text","value":" be replaced when cloning one environment into another. ","position":{"start":{"line":4,"column":108,"offset":512},"end":{"line":4,"column":164,"offset":568},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":405},"end":{"line":4,"column":164,"offset":568},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Why should I use this?","position":{"start":{"line":6,"column":4,"offset":573},"end":{"line":6,"column":26,"offset":595},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":570},"end":{"line":6,"column":26,"offset":595},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When you clone your environment, you also clone the PagerDuty integration. When this happens you lose PagerDuty configuration in the target destination, such as the CI or AG mappings, service IDs, and API keys. To clone the PagerDuty integration and have it remain in a functional state, you'll need to utilize the Clone Data Preserver to preserve certain PagerDuty fields beforehand. In the walkthrough below, we'll be creating the Clone Data Preservers in our Production environment, prior to cloning anything to our Dev instance.\n","position":{"start":{"line":7,"column":1,"offset":596},"end":{"line":8,"column":1,"offset":1129},"indent":[1]}},{"type":"linkReference","identifier":"block:callout","label":"block:callout","referenceType":"shortcut","children":[{"type":"text","value":"block:callout","position":{"start":{"line":8,"column":2,"offset":1130},"end":{"line":8,"column":15,"offset":1143},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":1129},"end":{"line":8,"column":16,"offset":1144},"indent":[]}},{"type":"text","value":"\n{\n  \"type\": \"info\",\n  \"title\": \"Required Permissions\",\n  \"body\": \"Please keep in mind that in order to use the Clone Data Preserver feature, your ServiceNow role must include ","position":{"start":{"line":8,"column":16,"offset":1144},"end":{"line":12,"column":121,"offset":1320},"indent":[1,1,1,1]}},{"type":"inlineCode","value":"clone_admin","position":{"start":{"line":12,"column":121,"offset":1320},"end":{"line":12,"column":134,"offset":1333},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":12,"column":134,"offset":1333},"end":{"line":12,"column":138,"offset":1337},"indent":[]}},{"type":"inlineCode","value":"admin","position":{"start":{"line":12,"column":138,"offset":1337},"end":{"line":12,"column":145,"offset":1344},"indent":[]}},{"type":"text","value":"\"\n}\n","position":{"start":{"line":12,"column":145,"offset":1344},"end":{"line":14,"column":1,"offset":1348},"indent":[1,1]}},{"type":"linkReference","identifier":"/block","label":"/block","referenceType":"shortcut","children":[{"type":"text","value":"/block","position":{"start":{"line":14,"column":2,"offset":1349},"end":{"line":14,"column":8,"offset":1355},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":1348},"end":{"line":14,"column":9,"offset":1356},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":596},"end":{"line":14,"column":9,"offset":1356},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"linkReference","identifier":"block:api-header","label":"block:api-header","referenceType":"shortcut","children":[{"type":"text","value":"block:api-header","position":{"start":{"line":16,"column":2,"offset":1359},"end":{"line":16,"column":18,"offset":1375},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":1358},"end":{"line":16,"column":19,"offset":1376},"indent":[]}},{"type":"text","value":"\n{\n  \"title\": \"Creating the Clone Data Preservers Manually\"\n}\n","position":{"start":{"line":16,"column":19,"offset":1376},"end":{"line":20,"column":1,"offset":1438},"indent":[1,1,1,1]}},{"type":"linkReference","identifier":"/block","label":"/block","referenceType":"shortcut","children":[{"type":"text","value":"/block","position":{"start":{"line":20,"column":2,"offset":1439},"end":{"line":20,"column":8,"offset":1445},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1438},"end":{"line":20,"column":9,"offset":1446},"indent":[]}},{"type":"text","value":"\nTo begin, navigate to System Clone :fa-arrow-right: Preserve Data, and select New. We'll begin by addressing the PagerDuty fields in the sys_properties table. In total, we will make 4 separate Clone Data Preservers.\nOnce you've created a new record for the Clone Data Preserver, select the ","position":{"start":{"line":20,"column":9,"offset":1446},"end":{"line":22,"column":75,"offset":1737},"indent":[1,1]}},{"type":"strong","children":[{"type":"text","value":"sys_properties","position":{"start":{"line":22,"column":77,"offset":1739},"end":{"line":22,"column":91,"offset":1753},"indent":[]}}],"position":{"start":{"line":22,"column":75,"offset":1737},"end":{"line":22,"column":93,"offset":1755},"indent":[]}},{"type":"text","value":" table, as shown in the below screenshot. Try to make the name of the Clone Data Preserver as descriptive as possible for your own reference later.","position":{"start":{"line":22,"column":93,"offset":1755},"end":{"line":22,"column":240,"offset":1902},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":1358},"end":{"line":22,"column":240,"offset":1902},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"linkReference","identifier":"block:image","label":"block:image","referenceType":"shortcut","children":[{"type":"text","value":"block:image","position":{"start":{"line":24,"column":2,"offset":1905},"end":{"line":24,"column":13,"offset":1916},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1904},"end":{"line":24,"column":14,"offset":1917},"indent":[]}},{"type":"text","value":"\n{\n  \"images\": [\n    {\n      \"image\": ","position":{"start":{"line":24,"column":14,"offset":1917},"end":{"line":28,"column":16,"offset":1955},"indent":[1,1,1,1]}},{"type":"linkReference","identifier":" \"https://files.readme.io/903b701-clone_data_preserver.png\", \"clone_data_preserver.png\", 2162, 632, \"#f3f3f4\" ","label":"\n        \"https://files.readme.io/903b701-Clone_Data_Preserver.png\",\n        \"Clone_Data_Preserver.png\",\n        2162,\n        632,\n        \"#f3f3f4\"\n      ","referenceType":"shortcut","children":[{"type":"text","value":"\n        \"https://files.readme.io/903b701-Clone_Data_Preserver.png\",\n        \"Clone_Data_Preserver.png\",\n        2162,\n        632,\n        \"#f3f3f4\"\n      ","position":{"start":{"line":28,"column":17,"offset":1956},"end":{"line":34,"column":7,"offset":2112},"indent":[1,1,1,1,1,1]}}],"position":{"start":{"line":28,"column":16,"offset":1955},"end":{"line":34,"column":8,"offset":2113},"indent":[1,1,1,1,1,1]}},{"type":"text","value":"\n    }\n  ]\n}\n","position":{"start":{"line":34,"column":8,"offset":2113},"end":{"line":38,"column":1,"offset":2126},"indent":[1,1,1,1]}},{"type":"linkReference","identifier":"/block","label":"/block","referenceType":"shortcut","children":[{"type":"text","value":"/block","position":{"start":{"line":38,"column":2,"offset":2127},"end":{"line":38,"column":8,"offset":2133},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":2126},"end":{"line":38,"column":9,"offset":2134},"indent":[]}},{"type":"text","value":"\n From here, we're going to be creating ","position":{"start":{"line":38,"column":9,"offset":2134},"end":{"line":39,"column":40,"offset":2174},"indent":[1]}},{"type":"strong","children":[{"type":"text","value":"AND","position":{"start":{"line":39,"column":42,"offset":2176},"end":{"line":39,"column":45,"offset":2179},"indent":[]}}],"position":{"start":{"line":39,"column":40,"offset":2174},"end":{"line":39,"column":47,"offset":2181},"indent":[]}},{"type":"text","value":" conditions for the following Names. ","position":{"start":{"line":39,"column":47,"offset":2181},"end":{"line":39,"column":84,"offset":2218},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1904},"end":{"line":39,"column":84,"offset":2218},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":41,"column":5,"offset":2224},"end":{"line":41,"column":12,"offset":2231},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":2222},"end":{"line":41,"column":14,"offset":2233},"indent":[]}},{"type":"text","value":" x_pd_integration.default_user","position":{"start":{"line":41,"column":14,"offset":2233},"end":{"line":41,"column":44,"offset":2263},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":2222},"end":{"line":41,"column":44,"offset":2263},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":2220},"end":{"line":41,"column":44,"offset":2263},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":42,"column":5,"offset":2268},"end":{"line":42,"column":12,"offset":2275},"indent":[]}}],"position":{"start":{"line":42,"column":3,"offset":2266},"end":{"line":42,"column":14,"offset":2277},"indent":[]}},{"type":"text","value":" x_pd_integration.instance_url","position":{"start":{"line":42,"column":14,"offset":2277},"end":{"line":42,"column":44,"offset":2307},"indent":[]}}],"position":{"start":{"line":42,"column":3,"offset":2266},"end":{"line":42,"column":44,"offset":2307},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":2264},"end":{"line":42,"column":44,"offset":2307},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":43,"column":5,"offset":2312},"end":{"line":43,"column":12,"offset":2319},"indent":[]}}],"position":{"start":{"line":43,"column":3,"offset":2310},"end":{"line":43,"column":14,"offset":2321},"indent":[]}},{"type":"text","value":" x_pd_integration.sn2pd_mapping","position":{"start":{"line":43,"column":14,"offset":2321},"end":{"line":43,"column":45,"offset":2352},"indent":[]}}],"position":{"start":{"line":43,"column":3,"offset":2310},"end":{"line":43,"column":45,"offset":2352},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":2308},"end":{"line":43,"column":45,"offset":2352},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":44,"column":5,"offset":2357},"end":{"line":44,"column":12,"offset":2364},"indent":[]}}],"position":{"start":{"line":44,"column":3,"offset":2355},"end":{"line":44,"column":14,"offset":2366},"indent":[]}},{"type":"text","value":" x_pd_integration.default_service","position":{"start":{"line":44,"column":14,"offset":2366},"end":{"line":44,"column":47,"offset":2399},"indent":[]}}],"position":{"start":{"line":44,"column":3,"offset":2355},"end":{"line":44,"column":47,"offset":2399},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":2353},"end":{"line":44,"column":47,"offset":2399},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":45,"column":5,"offset":2404},"end":{"line":45,"column":12,"offset":2411},"indent":[]}}],"position":{"start":{"line":45,"column":3,"offset":2402},"end":{"line":45,"column":14,"offset":2413},"indent":[]}},{"type":"text","value":" x_pd_integration.api_key","position":{"start":{"line":45,"column":14,"offset":2413},"end":{"line":45,"column":39,"offset":2438},"indent":[]}}],"position":{"start":{"line":45,"column":3,"offset":2402},"end":{"line":45,"column":39,"offset":2438},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":2400},"end":{"line":45,"column":39,"offset":2438},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":46,"column":5,"offset":2443},"end":{"line":46,"column":12,"offset":2450},"indent":[]}}],"position":{"start":{"line":46,"column":3,"offset":2441},"end":{"line":46,"column":14,"offset":2452},"indent":[]}},{"type":"text","value":" x_pd_integration.webhook_restapi","position":{"start":{"line":46,"column":14,"offset":2452},"end":{"line":46,"column":47,"offset":2485},"indent":[]}}],"position":{"start":{"line":46,"column":3,"offset":2441},"end":{"line":46,"column":47,"offset":2485},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":2439},"end":{"line":46,"column":47,"offset":2485},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":47,"column":5,"offset":2490},"end":{"line":47,"column":12,"offset":2497},"indent":[]}}],"position":{"start":{"line":47,"column":3,"offset":2488},"end":{"line":47,"column":14,"offset":2499},"indent":[]}},{"type":"text","value":" x_pd_integration.sn_auth_user","position":{"start":{"line":47,"column":14,"offset":2499},"end":{"line":47,"column":44,"offset":2529},"indent":[]}}],"position":{"start":{"line":47,"column":3,"offset":2488},"end":{"line":47,"column":44,"offset":2529},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":2486},"end":{"line":47,"column":44,"offset":2529},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":48,"column":5,"offset":2534},"end":{"line":48,"column":12,"offset":2541},"indent":[]}}],"position":{"start":{"line":48,"column":3,"offset":2532},"end":{"line":48,"column":14,"offset":2543},"indent":[]}},{"type":"text","value":" x_pd_integration.sn_auth_userpwd","position":{"start":{"line":48,"column":14,"offset":2543},"end":{"line":48,"column":47,"offset":2576},"indent":[]}}],"position":{"start":{"line":48,"column":3,"offset":2532},"end":{"line":48,"column":47,"offset":2576},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":2530},"end":{"line":48,"column":47,"offset":2576},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":2220},"end":{"line":48,"column":47,"offset":2576},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Go ahead and save your changes. Once this Clone Data Preserver is created, we'll ","position":{"start":{"line":51,"column":1,"offset":2579},"end":{"line":51,"column":82,"offset":2660},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"create another for the ","position":{"start":{"line":51,"column":84,"offset":2662},"end":{"line":51,"column":107,"offset":2685},"indent":[]}},{"type":"inlineCode","value":"sys_user","position":{"start":{"line":51,"column":107,"offset":2685},"end":{"line":51,"column":117,"offset":2695},"indent":[]}},{"type":"text","value":" table.","position":{"start":{"line":51,"column":117,"offset":2695},"end":{"line":51,"column":124,"offset":2702},"indent":[]}}],"position":{"start":{"line":51,"column":82,"offset":2660},"end":{"line":51,"column":126,"offset":2704},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":51,"column":126,"offset":2704},"end":{"line":51,"column":127,"offset":2705},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2579},"end":{"line":51,"column":127,"offset":2705},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Navigate to ","position":{"start":{"line":53,"column":1,"offset":2707},"end":{"line":53,"column":13,"offset":2719},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"System Clone :fa-arrow-right: Preserve Data","position":{"start":{"line":53,"column":15,"offset":2721},"end":{"line":53,"column":58,"offset":2764},"indent":[]}}],"position":{"start":{"line":53,"column":13,"offset":2719},"end":{"line":53,"column":60,"offset":2766},"indent":[]}},{"type":"text","value":", and select ","position":{"start":{"line":53,"column":60,"offset":2766},"end":{"line":53,"column":73,"offset":2779},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"New","position":{"start":{"line":53,"column":75,"offset":2781},"end":{"line":53,"column":78,"offset":2784},"indent":[]}}],"position":{"start":{"line":53,"column":73,"offset":2779},"end":{"line":53,"column":80,"offset":2786},"indent":[]}},{"type":"text","value":".  Select ","position":{"start":{"line":53,"column":80,"offset":2786},"end":{"line":53,"column":90,"offset":2796},"indent":[]}},{"type":"inlineCode","value":"sys_user","position":{"start":{"line":53,"column":90,"offset":2796},"end":{"line":53,"column":100,"offset":2806},"indent":[]}},{"type":"text","value":" as your table, and add the following condition and save your changes:","position":{"start":{"line":53,"column":100,"offset":2806},"end":{"line":53,"column":170,"offset":2876},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":2707},"end":{"line":53,"column":170,"offset":2876},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":55,"column":5,"offset":2882},"end":{"line":55,"column":12,"offset":2889},"indent":[]}}],"position":{"start":{"line":55,"column":3,"offset":2880},"end":{"line":55,"column":14,"offset":2891},"indent":[]}},{"type":"text","value":" x_pd_integration_pagerduty_id","position":{"start":{"line":55,"column":14,"offset":2891},"end":{"line":55,"column":44,"offset":2921},"indent":[]}}],"position":{"start":{"line":55,"column":3,"offset":2880},"end":{"line":55,"column":44,"offset":2921},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":2878},"end":{"line":55,"column":44,"offset":2921},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":2878},"end":{"line":55,"column":44,"offset":2921},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Create a new Clone Data Preserver for the ","position":{"start":{"line":57,"column":3,"offset":2925},"end":{"line":57,"column":45,"offset":2967},"indent":[]}},{"type":"inlineCode","value":"sys_user_group","position":{"start":{"line":57,"column":45,"offset":2967},"end":{"line":57,"column":61,"offset":2983},"indent":[]}},{"type":"text","value":" table with the following conditions:","position":{"start":{"line":57,"column":61,"offset":2983},"end":{"line":57,"column":98,"offset":3020},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":2923},"end":{"line":57,"column":100,"offset":3022},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":2923},"end":{"line":57,"column":100,"offset":3022},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":59,"column":5,"offset":3028},"end":{"line":59,"column":12,"offset":3035},"indent":[]}}],"position":{"start":{"line":59,"column":3,"offset":3026},"end":{"line":59,"column":14,"offset":3037},"indent":[]}},{"type":"text","value":" x_pd_integration_pagerduty_webhook","position":{"start":{"line":59,"column":14,"offset":3037},"end":{"line":59,"column":49,"offset":3072},"indent":[]}}],"position":{"start":{"line":59,"column":3,"offset":3026},"end":{"line":59,"column":49,"offset":3072},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":3024},"end":{"line":59,"column":49,"offset":3072},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":60,"column":5,"offset":3077},"end":{"line":60,"column":12,"offset":3084},"indent":[]}}],"position":{"start":{"line":60,"column":3,"offset":3075},"end":{"line":60,"column":14,"offset":3086},"indent":[]}},{"type":"text","value":" x_pd_integration_pagerduty_escalation","position":{"start":{"line":60,"column":14,"offset":3086},"end":{"line":60,"column":52,"offset":3124},"indent":[]}}],"position":{"start":{"line":60,"column":3,"offset":3075},"end":{"line":60,"column":52,"offset":3124},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":3073},"end":{"line":60,"column":52,"offset":3124},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":61,"column":5,"offset":3129},"end":{"line":61,"column":12,"offset":3136},"indent":[]}}],"position":{"start":{"line":61,"column":3,"offset":3127},"end":{"line":61,"column":14,"offset":3138},"indent":[]}},{"type":"text","value":" x_pd_integration_pagerduty_service","position":{"start":{"line":61,"column":14,"offset":3138},"end":{"line":61,"column":49,"offset":3173},"indent":[]}}],"position":{"start":{"line":61,"column":3,"offset":3127},"end":{"line":61,"column":49,"offset":3173},"indent":[]}}],"position":{"start":{"line":61,"column":1,"offset":3125},"end":{"line":61,"column":49,"offset":3173},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":62,"column":5,"offset":3178},"end":{"line":62,"column":12,"offset":3185},"indent":[]}}],"position":{"start":{"line":62,"column":3,"offset":3176},"end":{"line":62,"column":14,"offset":3187},"indent":[]}},{"type":"text","value":" x_pd_integration_pagerduty_schedule – ","position":{"start":{"line":62,"column":14,"offset":3187},"end":{"line":62,"column":53,"offset":3226},"indent":[]}},{"type":"link","title":null,"url":"https://community.pagerduty.com/t/whats-new-servicenow-v5-integration/2160","children":[{"type":"text","value":"v5 only","position":{"start":{"line":62,"column":54,"offset":3227},"end":{"line":62,"column":61,"offset":3234},"indent":[]}}],"position":{"start":{"line":62,"column":53,"offset":3226},"end":{"line":62,"column":138,"offset":3311},"indent":[]}}],"position":{"start":{"line":62,"column":3,"offset":3176},"end":{"line":62,"column":138,"offset":3311},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":3174},"end":{"line":62,"column":138,"offset":3311},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":63,"column":5,"offset":3316},"end":{"line":63,"column":12,"offset":3323},"indent":[]}}],"position":{"start":{"line":63,"column":3,"offset":3314},"end":{"line":63,"column":14,"offset":3325},"indent":[]}},{"type":"text","value":" x_pd_integration_pagerduty_team – ","position":{"start":{"line":63,"column":14,"offset":3325},"end":{"line":63,"column":49,"offset":3360},"indent":[]}},{"type":"link","title":null,"url":"https://community.pagerduty.com/t/whats-new-servicenow-v5-integration/2160","children":[{"type":"text","value":"v5 only","position":{"start":{"line":63,"column":50,"offset":3361},"end":{"line":63,"column":57,"offset":3368},"indent":[]}}],"position":{"start":{"line":63,"column":49,"offset":3360},"end":{"line":63,"column":134,"offset":3445},"indent":[]}}],"position":{"start":{"line":63,"column":3,"offset":3314},"end":{"line":63,"column":134,"offset":3445},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":3312},"end":{"line":63,"column":134,"offset":3445},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":3024},"end":{"line":63,"column":134,"offset":3445},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Lastly, create a new Clone Data Preserver for the ","position":{"start":{"line":65,"column":3,"offset":3449},"end":{"line":65,"column":53,"offset":3499},"indent":[]}},{"type":"inlineCode","value":"cmdb_ci ","position":{"start":{"line":65,"column":53,"offset":3499},"end":{"line":65,"column":63,"offset":3509},"indent":[]}},{"type":"text","value":" table with the following conditions:","position":{"start":{"line":65,"column":63,"offset":3509},"end":{"line":65,"column":100,"offset":3546},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":3447},"end":{"line":65,"column":102,"offset":3548},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":65,"column":102,"offset":3548},"end":{"line":65,"column":103,"offset":3549},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":3447},"end":{"line":65,"column":103,"offset":3549},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":67,"column":5,"offset":3555},"end":{"line":67,"column":12,"offset":3562},"indent":[]}}],"position":{"start":{"line":67,"column":3,"offset":3553},"end":{"line":67,"column":14,"offset":3564},"indent":[]}},{"type":"text","value":" x_pd_integration_pagerduty_webhook","position":{"start":{"line":67,"column":14,"offset":3564},"end":{"line":67,"column":49,"offset":3599},"indent":[]}}],"position":{"start":{"line":67,"column":3,"offset":3553},"end":{"line":67,"column":49,"offset":3599},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":3551},"end":{"line":67,"column":49,"offset":3599},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":68,"column":5,"offset":3604},"end":{"line":68,"column":12,"offset":3611},"indent":[]}}],"position":{"start":{"line":68,"column":3,"offset":3602},"end":{"line":68,"column":14,"offset":3613},"indent":[]}},{"type":"text","value":" x_pd_integration_pagerduty_service\n","position":{"start":{"line":68,"column":14,"offset":3613},"end":{"line":69,"column":1,"offset":3649},"indent":[1]}},{"type":"linkReference","identifier":"block:api-header","label":"block:api-header","referenceType":"shortcut","children":[{"type":"text","value":"block:api-header","position":{"start":{"line":69,"column":2,"offset":3650},"end":{"line":69,"column":18,"offset":3666},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":3649},"end":{"line":69,"column":19,"offset":3667},"indent":[]}},{"type":"text","value":"\n{\n  \"title\": \"Creating the Clone Data Preservers by Importing an Update Set\"\n}\n","position":{"start":{"line":69,"column":19,"offset":3667},"end":{"line":73,"column":1,"offset":3747},"indent":[1,1,1,1]}},{"type":"linkReference","identifier":"/block","label":"/block","referenceType":"shortcut","children":[{"type":"text","value":"/block","position":{"start":{"line":73,"column":2,"offset":3748},"end":{"line":73,"column":8,"offset":3754},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":3747},"end":{"line":73,"column":9,"offset":3755},"indent":[]}},{"type":"text","value":"\nAs an alternative to creating the Clone Data Preservers manually, you can import one of the following update sets to the origin ServiceNow instance. In keeping with our prod to dev example, you would import the appropriate update set onto your prod instance before cloning over to your new dev instance.","position":{"start":{"line":73,"column":9,"offset":3755},"end":{"line":74,"column":304,"offset":4059},"indent":[1]}}],"position":{"start":{"line":68,"column":3,"offset":3602},"end":{"line":74,"column":304,"offset":4059},"indent":[1,1,1,1,1,1]}}],"position":{"start":{"line":68,"column":1,"offset":3600},"end":{"line":74,"column":304,"offset":4059},"indent":[1,1,1,1,1,1]}}],"position":{"start":{"line":67,"column":1,"offset":3551},"end":{"line":74,"column":304,"offset":4059},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you're using any iteration of V4, use ","position":{"start":{"line":77,"column":1,"offset":4062},"end":{"line":77,"column":42,"offset":4103},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/PagerDuty/servicenow-updatesets/blob/master/PagerDutyCDP-V4.xml","children":[{"type":"text","value":"this Update Set","position":{"start":{"line":77,"column":43,"offset":4104},"end":{"line":77,"column":58,"offset":4119},"indent":[]}}],"position":{"start":{"line":77,"column":42,"offset":4103},"end":{"line":77,"column":143,"offset":4204},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":4062},"end":{"line":77,"column":143,"offset":4204},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you're using V5, use ","position":{"start":{"line":79,"column":1,"offset":4206},"end":{"line":79,"column":25,"offset":4230},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/PagerDuty/servicenow-updatesets/blob/master/PagerDutyCDP-V5.xml","children":[{"type":"text","value":"this Update Set","position":{"start":{"line":79,"column":26,"offset":4231},"end":{"line":79,"column":41,"offset":4246},"indent":[]}}],"position":{"start":{"line":79,"column":25,"offset":4230},"end":{"line":79,"column":126,"offset":4331},"indent":[]}},{"type":"text","value":" instead.","position":{"start":{"line":79,"column":126,"offset":4331},"end":{"line":79,"column":135,"offset":4340},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":4206},"end":{"line":79,"column":135,"offset":4340},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"ServiceNow: Using the Clone Data Preserver\",\"slug\":\"servicenow-using-the-clone-data-preserver\",\"excerpt\":\"\"}","position":{"start":{"line":82,"column":1,"offset":4343},"end":{"line":82,"column":147,"offset":4489},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":82,"column":147,"offset":4489}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"ServiceNow: Using the Clone Data Preserver\",\n  \"slug\": \"servicenow-using-the-clone-data-preserver\",\n  \"excerpt\": \"\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In some cases, you may want to clone your ServiceNow production data to a new dev instance. While there can be many motivations for doing so, problems with the PagerDuty integration can occur if the data is cloned without using a Clone Data Preserver. In this article we'll discuss how to avoid common issues that come with replicating an environment in ServiceNow.\"), mdx(\"h2\", {\n    \"id\": \"what-is-the-clone-data-preserver\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#what-is-the-clone-data-preserver\",\n    \"aria-label\": \"what is the clone data preserver permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"What is the Clone Data Preserver?\"), mdx(\"p\", null, \"The Clone Data Preserver is a feature within ServiceNow that you can use to define what data should \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"not\"), \" be replaced when cloning one environment into another. \"), mdx(\"h2\", {\n    \"id\": \"why-should-i-use-this\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#why-should-i-use-this\",\n    \"aria-label\": \"why should i use this permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Why should I use this?\"), mdx(\"p\", null, \"When you clone your environment, you also clone the PagerDuty integration. When this happens you lose PagerDuty configuration in the target destination, such as the CI or AG mappings, service IDs, and API keys. To clone the PagerDuty integration and have it remain in a functional state, you'll need to utilize the Clone Data Preserver to preserve certain PagerDuty fields beforehand. In the walkthrough below, we'll be creating the Clone Data Preservers in our Production environment, prior to cloning anything to our Dev instance.\\n\", \"[block:callout]\", \"\\n{\\n\\\"type\\\": \\\"info\\\",\\n\\\"title\\\": \\\"Required Permissions\\\",\\n\\\"body\\\": \\\"Please keep in mind that in order to use the Clone Data Preserver feature, your ServiceNow role must include \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"clone_admin\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"admin\"), \"\\\"\\n}\\n\", \"[/block]\"), mdx(\"p\", null, \"[block:api-header]\", \"\\n{\\n\\\"title\\\": \\\"Creating the Clone Data Preservers Manually\\\"\\n}\\n\", \"[/block]\", \"\\nTo begin, navigate to System Clone :fa-arrow-right: Preserve Data, and select New. We'll begin by addressing the PagerDuty fields in the sys_properties table. In total, we will make 4 separate Clone Data Preservers.\\nOnce you've created a new record for the Clone Data Preserver, select the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"sys_properties\"), \" table, as shown in the below screenshot. Try to make the name of the Clone Data Preserver as descriptive as possible for your own reference later.\"), mdx(\"p\", null, \"[block:image]\", \"\\n{\\n\\\"images\\\": [\\n{\\n\\\"image\\\": \", \"[\\n\\\"https://files.readme.io/903b701-Clone_Data_Preserver.png\\\",\\n\\\"Clone_Data_Preserver.png\\\",\\n2162,\\n632,\\n\\\"#f3f3f4\\\"\\n]\", \"\\n}\\n]\\n}\\n\", \"[/block]\", \"\\nFrom here, we're going to be creating \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"AND\"), \" conditions for the following Names. \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.default_user\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.instance_url\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.sn2pd_mapping\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.default_service\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.api_key\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.webhook_restapi\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.sn_auth_user\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.sn_auth_userpwd\")), mdx(\"p\", null, \"Go ahead and save your changes. Once this Clone Data Preserver is created, we'll \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"create another for the \", mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"sys_user\"), \" table.\"), \" \"), mdx(\"p\", null, \"Navigate to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"System Clone :fa-arrow-right: Preserve Data\"), \", and select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"New\"), \".  Select \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sys_user\"), \" as your table, and add the following condition and save your changes:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration_pagerduty_id\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create a new Clone Data Preserver for the \", mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"sys_user_group\"), \" table with the following conditions:\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration_pagerduty_webhook\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration_pagerduty_escalation\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration_pagerduty_service\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration_pagerduty_schedule \\u2013 \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://community.pagerduty.com/t/whats-new-servicenow-v5-integration/2160\"\n  }), \"v5 only\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration_pagerduty_team \\u2013 \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://community.pagerduty.com/t/whats-new-servicenow-v5-integration/2160\"\n  }), \"v5 only\"))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Lastly, create a new Clone Data Preserver for the \", mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"cmdb_ci \"), \" table with the following conditions:\"), \" \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration_pagerduty_webhook\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration_pagerduty_service\\n\", \"[block:api-header]\", \"\\n{\\n\\\"title\\\": \\\"Creating the Clone Data Preservers by Importing an Update Set\\\"\\n}\\n\", \"[/block]\", \"\\nAs an alternative to creating the Clone Data Preservers manually, you can import one of the following update sets to the origin ServiceNow instance. In keeping with our prod to dev example, you would import the appropriate update set onto your prod instance before cloning over to your new dev instance.\")), mdx(\"p\", null, \"If you're using any iteration of V4, use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/PagerDuty/servicenow-updatesets/blob/master/PagerDutyCDP-V4.xml\"\n  }), \"this Update Set\")), mdx(\"p\", null, \"If you're using V5, use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/PagerDuty/servicenow-updatesets/blob/master/PagerDutyCDP-V5.xml\"\n  }), \"this Update Set\"), \" instead.\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"ServiceNow: Using the Clone Data Preserver\",\n  \"slug\": \"servicenow-using-the-clone-data-preserver\",\n  \"excerpt\": \"\"\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`In some cases, you may want to clone your ServiceNow production data to a new dev instance. While there can be many motivations for doing so, problems with the PagerDuty integration can occur if the data is cloned without using a Clone Data Preserver. In this article we'll discuss how to avoid common issues that come with replicating an environment in ServiceNow.`}</p>\n    <h2 {...{\n      \"id\": \"what-is-the-clone-data-preserver\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#what-is-the-clone-data-preserver\",\n        \"aria-label\": \"what is the clone data preserver permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`What is the Clone Data Preserver?`}</h2>\n    <p>{`The Clone Data Preserver is a feature within ServiceNow that you can use to define what data should `}<strong parentName=\"p\">{`not`}</strong>{` be replaced when cloning one environment into another. `}</p>\n    <h2 {...{\n      \"id\": \"why-should-i-use-this\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#why-should-i-use-this\",\n        \"aria-label\": \"why should i use this permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Why should I use this?`}</h2>\n    <p>{`When you clone your environment, you also clone the PagerDuty integration. When this happens you lose PagerDuty configuration in the target destination, such as the CI or AG mappings, service IDs, and API keys. To clone the PagerDuty integration and have it remain in a functional state, you'll need to utilize the Clone Data Preserver to preserve certain PagerDuty fields beforehand. In the walkthrough below, we'll be creating the Clone Data Preservers in our Production environment, prior to cloning anything to our Dev instance.\n`}{`[block:callout]`}{`\n{\n\"type\": \"info\",\n\"title\": \"Required Permissions\",\n\"body\": \"Please keep in mind that in order to use the Clone Data Preserver feature, your ServiceNow role must include `}<inlineCode parentName=\"p\">{`clone_admin`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`admin`}</inlineCode>{`\"\n}\n`}{`[/block]`}</p>\n    <p>{`[block:api-header]`}{`\n{\n\"title\": \"Creating the Clone Data Preservers Manually\"\n}\n`}{`[/block]`}{`\nTo begin, navigate to System Clone :fa-arrow-right: Preserve Data, and select New. We'll begin by addressing the PagerDuty fields in the sys_properties table. In total, we will make 4 separate Clone Data Preservers.\nOnce you've created a new record for the Clone Data Preserver, select the `}<strong parentName=\"p\">{`sys_properties`}</strong>{` table, as shown in the below screenshot. Try to make the name of the Clone Data Preserver as descriptive as possible for your own reference later.`}</p>\n    <p>{`[block:image]`}{`\n{\n\"images\": [\n{\n\"image\": `}{`[\n\"https://files.readme.io/903b701-Clone_Data_Preserver.png\",\n\"Clone_Data_Preserver.png\",\n2162,\n632,\n\"#f3f3f4\"\n]`}{`\n}\n]\n}\n`}{`[/block]`}{`\nFrom here, we're going to be creating `}<strong parentName=\"p\">{`AND`}</strong>{` conditions for the following Names. `}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.default_user`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.instance_url`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.sn2pd_mapping`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.default_service`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.api_key`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.webhook_restapi`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.sn_auth_user`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.sn_auth_userpwd`}</li>\n    </ul>\n    <p>{`Go ahead and save your changes. Once this Clone Data Preserver is created, we'll `}<strong parentName=\"p\">{`create another for the `}<inlineCode parentName=\"strong\">{`sys_user`}</inlineCode>{` table.`}</strong>{` `}</p>\n    <p>{`Navigate to `}<strong parentName=\"p\">{`System Clone :fa-arrow-right: Preserve Data`}</strong>{`, and select `}<strong parentName=\"p\">{`New`}</strong>{`.  Select `}<inlineCode parentName=\"p\">{`sys_user`}</inlineCode>{` as your table, and add the following condition and save your changes:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration_pagerduty_id`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`Create a new Clone Data Preserver for the `}<inlineCode parentName=\"strong\">{`sys_user_group`}</inlineCode>{` table with the following conditions:`}</strong></p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration_pagerduty_webhook`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration_pagerduty_escalation`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration_pagerduty_service`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration_pagerduty_schedule – `}<a parentName=\"li\" {...{\n          \"href\": \"https://community.pagerduty.com/t/whats-new-servicenow-v5-integration/2160\"\n        }}>{`v5 only`}</a></li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration_pagerduty_team – `}<a parentName=\"li\" {...{\n          \"href\": \"https://community.pagerduty.com/t/whats-new-servicenow-v5-integration/2160\"\n        }}>{`v5 only`}</a></li>\n    </ul>\n    <p><strong parentName=\"p\">{`Lastly, create a new Clone Data Preserver for the `}<inlineCode parentName=\"strong\">{`cmdb_ci `}</inlineCode>{` table with the following conditions:`}</strong>{` `}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration_pagerduty_webhook`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration_pagerduty_service\n`}{`[block:api-header]`}{`\n{\n\"title\": \"Creating the Clone Data Preservers by Importing an Update Set\"\n}\n`}{`[/block]`}{`\nAs an alternative to creating the Clone Data Preservers manually, you can import one of the following update sets to the origin ServiceNow instance. In keeping with our prod to dev example, you would import the appropriate update set onto your prod instance before cloning over to your new dev instance.`}</li>\n    </ul>\n    <p>{`If you're using any iteration of V4, use `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/PagerDuty/servicenow-updatesets/blob/master/PagerDutyCDP-V4.xml\"\n      }}>{`this Update Set`}</a></p>\n    <p>{`If you're using V5, use `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/PagerDuty/servicenow-updatesets/blob/master/PagerDutyCDP-V5.xml\"\n      }}>{`this Update Set`}</a>{` instead.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}