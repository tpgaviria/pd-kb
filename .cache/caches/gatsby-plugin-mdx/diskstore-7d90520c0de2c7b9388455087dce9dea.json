{"expireTime":9007200861851126000,"key":"gatsby-plugin-mdx-entire-payload-2d61468f939352a0090fb61061616819-","val":{"mdast":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"In some cases, you may want to clone your ServiceNow production data to a new dev instance. While there can be many motivations for doing so, problems with the PagerDuty integration can occur if the data is cloned without using a Clone Data Preserver. In this article we'll discuss how to avoid common issues that come with replicating an environment in ServiceNow.","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":366,"offset":365},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":366,"offset":365},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"What is the Clone Data Preserver?","position":{"start":{"line":3,"column":4,"offset":370},"end":{"line":3,"column":37,"offset":403},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":367},"end":{"line":3,"column":38,"offset":404},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The Clone Data Preserver is a feature within ServiceNow that you can use to define what data should ","position":{"start":{"line":4,"column":1,"offset":405},"end":{"line":4,"column":101,"offset":505},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"not","position":{"start":{"line":4,"column":103,"offset":507},"end":{"line":4,"column":106,"offset":510},"indent":[]}}],"position":{"start":{"line":4,"column":101,"offset":505},"end":{"line":4,"column":108,"offset":512},"indent":[]}},{"type":"text","value":" be replaced when cloning one environment into another. ","position":{"start":{"line":4,"column":108,"offset":512},"end":{"line":4,"column":164,"offset":568},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":405},"end":{"line":4,"column":164,"offset":568},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Why should I use this?","position":{"start":{"line":6,"column":4,"offset":573},"end":{"line":6,"column":26,"offset":595},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":570},"end":{"line":6,"column":26,"offset":595},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When you clone your environment, you also clone the PagerDuty integration. When this happens you lose PagerDuty configuration in the target destination, such as the CI or AG mappings, service IDs, and API keys. To clone the PagerDuty integration and have it remain in a functional state, you'll need to utilize the Clone Data Preserver to preserve certain PagerDuty fields beforehand. In the walkthrough below, we'll be creating the Clone Data Preservers in our Production environment, prior to cloning anything to our Dev instance.\n","position":{"start":{"line":7,"column":1,"offset":596},"end":{"line":8,"column":1,"offset":1129},"indent":[1]}},{"type":"linkReference","identifier":"block:callout","label":"block:callout","referenceType":"shortcut","children":[{"type":"text","value":"block:callout","position":{"start":{"line":8,"column":2,"offset":1130},"end":{"line":8,"column":15,"offset":1143},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":1129},"end":{"line":8,"column":16,"offset":1144},"indent":[]}},{"type":"text","value":"\n{\n  \"type\": \"info\",\n  \"title\": \"Required Permissions\",\n  \"body\": \"Please keep in mind that in order to use the Clone Data Preserver feature, your ServiceNow role must include ","position":{"start":{"line":8,"column":16,"offset":1144},"end":{"line":12,"column":121,"offset":1320},"indent":[1,1,1,1]}},{"type":"inlineCode","value":"clone_admin","position":{"start":{"line":12,"column":121,"offset":1320},"end":{"line":12,"column":134,"offset":1333},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":12,"column":134,"offset":1333},"end":{"line":12,"column":138,"offset":1337},"indent":[]}},{"type":"inlineCode","value":"admin","position":{"start":{"line":12,"column":138,"offset":1337},"end":{"line":12,"column":145,"offset":1344},"indent":[]}},{"type":"text","value":"\"\n}\n","position":{"start":{"line":12,"column":145,"offset":1344},"end":{"line":14,"column":1,"offset":1348},"indent":[1,1]}},{"type":"linkReference","identifier":"/block","label":"/block","referenceType":"shortcut","children":[{"type":"text","value":"/block","position":{"start":{"line":14,"column":2,"offset":1349},"end":{"line":14,"column":8,"offset":1355},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":1348},"end":{"line":14,"column":9,"offset":1356},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":596},"end":{"line":14,"column":9,"offset":1356},"indent":[1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Creating the Clone Data Preservers by Importing an Update Set","position":{"start":{"line":16,"column":4,"offset":1361},"end":{"line":16,"column":65,"offset":1422},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":1358},"end":{"line":16,"column":65,"offset":1422},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"As an alternative to creating the Clone Data Preservers manually, you can import one of the following update sets to the origin ServiceNow instance. In keeping with our prod to dev example, you would import the appropriate update set onto your prod instance before cloning over to your new dev instance. ","position":{"start":{"line":18,"column":1,"offset":1424},"end":{"line":18,"column":305,"offset":1728},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":1424},"end":{"line":18,"column":305,"offset":1728},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/PagerDuty/servicenow-updatesets","children":[{"type":"text","value":"This update set","position":{"start":{"line":20,"column":2,"offset":1731},"end":{"line":20,"column":17,"offset":1746},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1730},"end":{"line":20,"column":70,"offset":1799},"indent":[]}},{"type":"text","value":" will work for both v5 and v6 of the PagerDuty integration.","position":{"start":{"line":20,"column":70,"offset":1799},"end":{"line":20,"column":129,"offset":1858},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1730},"end":{"line":20,"column":129,"offset":1858},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note that this update set only preserves the PagerDuty Settings configuration. To preserve the mappings for Users, Assignment Groups, and Configuration Items, a ServiceNow administrator can follow the instructions below to manually preserve those records. ","position":{"start":{"line":22,"column":1,"offset":1860},"end":{"line":22,"column":257,"offset":2116},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1860},"end":{"line":22,"column":257,"offset":2116},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Creating the Clone Data Preservers Manually","position":{"start":{"line":23,"column":4,"offset":2120},"end":{"line":23,"column":47,"offset":2163},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":2117},"end":{"line":23,"column":47,"offset":2163},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To begin, navigate to System Clone :fa-arrow-right: Preserve Data, and select New. We'll begin by addressing the PagerDuty fields in the sys_properties table. In total, we will make 4 separate Clone Data Preservers.","position":{"start":{"line":25,"column":1,"offset":2165},"end":{"line":25,"column":216,"offset":2380},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":2165},"end":{"line":25,"column":216,"offset":2380},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Once you've created a new record for the Clone Data Preserver, select the ","position":{"start":{"line":27,"column":1,"offset":2382},"end":{"line":27,"column":75,"offset":2456},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"sys_properties","position":{"start":{"line":27,"column":77,"offset":2458},"end":{"line":27,"column":91,"offset":2472},"indent":[]}}],"position":{"start":{"line":27,"column":75,"offset":2456},"end":{"line":27,"column":93,"offset":2474},"indent":[]}},{"type":"text","value":" table, as shown in the below screenshot. Try to make the name of the Clone Data Preserver as descriptive as possible for your own reference later.","position":{"start":{"line":27,"column":93,"offset":2474},"end":{"line":27,"column":240,"offset":2621},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":2382},"end":{"line":27,"column":240,"offset":2621},"indent":[]}},{"type":"paragraph","children":[{"type":"linkReference","identifier":"block:image","label":"block:image","referenceType":"shortcut","children":[{"type":"text","value":"block:image","position":{"start":{"line":29,"column":2,"offset":2624},"end":{"line":29,"column":13,"offset":2635},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":2623},"end":{"line":29,"column":14,"offset":2636},"indent":[]}},{"type":"text","value":"\n{\n  \"images\": [\n    {\n      \"image\": ","position":{"start":{"line":29,"column":14,"offset":2636},"end":{"line":33,"column":16,"offset":2674},"indent":[1,1,1,1]}},{"type":"linkReference","identifier":" \"https://files.readme.io/903b701-clone_data_preserver.png\", \"clone_data_preserver.png\", 2162, 632, \"#f3f3f4\" ","label":"\n        \"https://files.readme.io/903b701-Clone_Data_Preserver.png\",\n        \"Clone_Data_Preserver.png\",\n        2162,\n        632,\n        \"#f3f3f4\"\n      ","referenceType":"shortcut","children":[{"type":"text","value":"\n        \"https://files.readme.io/903b701-Clone_Data_Preserver.png\",\n        \"Clone_Data_Preserver.png\",\n        2162,\n        632,\n        \"#f3f3f4\"\n      ","position":{"start":{"line":33,"column":17,"offset":2675},"end":{"line":39,"column":7,"offset":2831},"indent":[1,1,1,1,1,1]}}],"position":{"start":{"line":33,"column":16,"offset":2674},"end":{"line":39,"column":8,"offset":2832},"indent":[1,1,1,1,1,1]}},{"type":"text","value":"\n    }\n  ]\n}\n","position":{"start":{"line":39,"column":8,"offset":2832},"end":{"line":43,"column":1,"offset":2845},"indent":[1,1,1,1]}},{"type":"linkReference","identifier":"/block","label":"/block","referenceType":"shortcut","children":[{"type":"text","value":"/block","position":{"start":{"line":43,"column":2,"offset":2846},"end":{"line":43,"column":8,"offset":2852},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":2845},"end":{"line":43,"column":9,"offset":2853},"indent":[]}},{"type":"text","value":"\n From here, we're going to be creating ","position":{"start":{"line":43,"column":9,"offset":2853},"end":{"line":44,"column":40,"offset":2893},"indent":[1]}},{"type":"strong","children":[{"type":"text","value":"OR","position":{"start":{"line":44,"column":42,"offset":2895},"end":{"line":44,"column":44,"offset":2897},"indent":[]}}],"position":{"start":{"line":44,"column":40,"offset":2893},"end":{"line":44,"column":46,"offset":2899},"indent":[]}},{"type":"text","value":" conditions for the following Names. ","position":{"start":{"line":44,"column":46,"offset":2899},"end":{"line":44,"column":83,"offset":2936},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":2623},"end":{"line":44,"column":83,"offset":2936},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":46,"column":5,"offset":2942},"end":{"line":46,"column":12,"offset":2949},"indent":[]}}],"position":{"start":{"line":46,"column":3,"offset":2940},"end":{"line":46,"column":14,"offset":2951},"indent":[]}},{"type":"text","value":" x_pd_integration.default_user OR","position":{"start":{"line":46,"column":14,"offset":2951},"end":{"line":46,"column":47,"offset":2984},"indent":[]}}],"position":{"start":{"line":46,"column":3,"offset":2940},"end":{"line":46,"column":47,"offset":2984},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":2938},"end":{"line":46,"column":47,"offset":2984},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":47,"column":5,"offset":2989},"end":{"line":47,"column":12,"offset":2996},"indent":[]}}],"position":{"start":{"line":47,"column":3,"offset":2987},"end":{"line":47,"column":14,"offset":2998},"indent":[]}},{"type":"text","value":" x_pd_integration.instance_url OR","position":{"start":{"line":47,"column":14,"offset":2998},"end":{"line":47,"column":47,"offset":3031},"indent":[]}}],"position":{"start":{"line":47,"column":3,"offset":2987},"end":{"line":47,"column":47,"offset":3031},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":2985},"end":{"line":47,"column":47,"offset":3031},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":48,"column":5,"offset":3036},"end":{"line":48,"column":12,"offset":3043},"indent":[]}}],"position":{"start":{"line":48,"column":3,"offset":3034},"end":{"line":48,"column":14,"offset":3045},"indent":[]}},{"type":"text","value":" x_pd_integration.sn2pd_mapping OR","position":{"start":{"line":48,"column":14,"offset":3045},"end":{"line":48,"column":48,"offset":3079},"indent":[]}}],"position":{"start":{"line":48,"column":3,"offset":3034},"end":{"line":48,"column":48,"offset":3079},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":3032},"end":{"line":48,"column":48,"offset":3079},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":49,"column":5,"offset":3084},"end":{"line":49,"column":12,"offset":3091},"indent":[]}}],"position":{"start":{"line":49,"column":3,"offset":3082},"end":{"line":49,"column":14,"offset":3093},"indent":[]}},{"type":"text","value":" x_pd_integration.default_service OR","position":{"start":{"line":49,"column":14,"offset":3093},"end":{"line":49,"column":50,"offset":3129},"indent":[]}}],"position":{"start":{"line":49,"column":3,"offset":3082},"end":{"line":49,"column":50,"offset":3129},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":3080},"end":{"line":49,"column":50,"offset":3129},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":50,"column":5,"offset":3134},"end":{"line":50,"column":12,"offset":3141},"indent":[]}}],"position":{"start":{"line":50,"column":3,"offset":3132},"end":{"line":50,"column":14,"offset":3143},"indent":[]}},{"type":"text","value":" x_pd_integration.api_key OR","position":{"start":{"line":50,"column":14,"offset":3143},"end":{"line":50,"column":42,"offset":3171},"indent":[]}}],"position":{"start":{"line":50,"column":3,"offset":3132},"end":{"line":50,"column":42,"offset":3171},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":3130},"end":{"line":50,"column":42,"offset":3171},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":51,"column":5,"offset":3176},"end":{"line":51,"column":12,"offset":3183},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":3174},"end":{"line":51,"column":14,"offset":3185},"indent":[]}},{"type":"text","value":" x_pd_integration.webhook_restapi OR","position":{"start":{"line":51,"column":14,"offset":3185},"end":{"line":51,"column":50,"offset":3221},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":3174},"end":{"line":51,"column":50,"offset":3221},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":3172},"end":{"line":51,"column":50,"offset":3221},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":52,"column":5,"offset":3226},"end":{"line":52,"column":12,"offset":3233},"indent":[]}}],"position":{"start":{"line":52,"column":3,"offset":3224},"end":{"line":52,"column":14,"offset":3235},"indent":[]}},{"type":"text","value":" x_pd_integration.sn_auth_user OR","position":{"start":{"line":52,"column":14,"offset":3235},"end":{"line":52,"column":47,"offset":3268},"indent":[]}}],"position":{"start":{"line":52,"column":3,"offset":3224},"end":{"line":52,"column":47,"offset":3268},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":3222},"end":{"line":52,"column":47,"offset":3268},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Name Is","position":{"start":{"line":53,"column":5,"offset":3273},"end":{"line":53,"column":12,"offset":3280},"indent":[]}}],"position":{"start":{"line":53,"column":3,"offset":3271},"end":{"line":53,"column":14,"offset":3282},"indent":[]}},{"type":"text","value":" x_pd_integration.sn_auth_userpwd","position":{"start":{"line":53,"column":14,"offset":3282},"end":{"line":53,"column":47,"offset":3315},"indent":[]}}],"position":{"start":{"line":53,"column":3,"offset":3271},"end":{"line":53,"column":47,"offset":3315},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":3269},"end":{"line":53,"column":47,"offset":3315},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":2938},"end":{"line":53,"column":47,"offset":3315},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Go ahead and save your changes. Once this Clone Data Preserver is created, we'll ","position":{"start":{"line":56,"column":1,"offset":3318},"end":{"line":56,"column":82,"offset":3399},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"create another for the ","position":{"start":{"line":56,"column":84,"offset":3401},"end":{"line":56,"column":107,"offset":3424},"indent":[]}},{"type":"inlineCode","value":"sys_user","position":{"start":{"line":56,"column":107,"offset":3424},"end":{"line":56,"column":117,"offset":3434},"indent":[]}},{"type":"text","value":" table.","position":{"start":{"line":56,"column":117,"offset":3434},"end":{"line":56,"column":124,"offset":3441},"indent":[]}}],"position":{"start":{"line":56,"column":82,"offset":3399},"end":{"line":56,"column":126,"offset":3443},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":56,"column":126,"offset":3443},"end":{"line":56,"column":127,"offset":3444},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":3318},"end":{"line":56,"column":127,"offset":3444},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Navigate to ","position":{"start":{"line":58,"column":1,"offset":3446},"end":{"line":58,"column":13,"offset":3458},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"System Clone :fa-arrow-right: Preserve Data","position":{"start":{"line":58,"column":15,"offset":3460},"end":{"line":58,"column":58,"offset":3503},"indent":[]}}],"position":{"start":{"line":58,"column":13,"offset":3458},"end":{"line":58,"column":60,"offset":3505},"indent":[]}},{"type":"text","value":", and select ","position":{"start":{"line":58,"column":60,"offset":3505},"end":{"line":58,"column":73,"offset":3518},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"New","position":{"start":{"line":58,"column":75,"offset":3520},"end":{"line":58,"column":78,"offset":3523},"indent":[]}}],"position":{"start":{"line":58,"column":73,"offset":3518},"end":{"line":58,"column":80,"offset":3525},"indent":[]}},{"type":"text","value":".  Select ","position":{"start":{"line":58,"column":80,"offset":3525},"end":{"line":58,"column":90,"offset":3535},"indent":[]}},{"type":"inlineCode","value":"sys_user","position":{"start":{"line":58,"column":90,"offset":3535},"end":{"line":58,"column":100,"offset":3545},"indent":[]}},{"type":"text","value":" as your table, and add the following condition and save your changes:\n","position":{"start":{"line":58,"column":100,"offset":3545},"end":{"line":59,"column":1,"offset":3616},"indent":[1]}},{"type":"linkReference","identifier":"block:image","label":"block:image","referenceType":"shortcut","children":[{"type":"text","value":"block:image","position":{"start":{"line":59,"column":2,"offset":3617},"end":{"line":59,"column":13,"offset":3628},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":3616},"end":{"line":59,"column":14,"offset":3629},"indent":[]}},{"type":"text","value":"\n{\n  \"images\": [\n    {\n      \"image\": ","position":{"start":{"line":59,"column":14,"offset":3629},"end":{"line":63,"column":16,"offset":3667},"indent":[1,1,1,1]}},{"type":"linkReference","identifier":" \"https://files.readme.io/22badca-cdp-user-mapping.png\", \"cdp-user-mapping.png\", 2802, 760, \"#f7f8f8\" ","label":"\n        \"https://files.readme.io/22badca-CDP-User-Mapping.png\",\n        \"CDP-User-Mapping.png\",\n        2802,\n        760,\n        \"#f7f8f8\"\n      ","referenceType":"shortcut","children":[{"type":"text","value":"\n        \"https://files.readme.io/22badca-CDP-User-Mapping.png\",\n        \"CDP-User-Mapping.png\",\n        2802,\n        760,\n        \"#f7f8f8\"\n      ","position":{"start":{"line":63,"column":17,"offset":3668},"end":{"line":69,"column":7,"offset":3816},"indent":[1,1,1,1,1,1]}}],"position":{"start":{"line":63,"column":16,"offset":3667},"end":{"line":69,"column":8,"offset":3817},"indent":[1,1,1,1,1,1]}},{"type":"text","value":"\n    }\n  ]\n}\n","position":{"start":{"line":69,"column":8,"offset":3817},"end":{"line":73,"column":1,"offset":3830},"indent":[1,1,1,1]}},{"type":"linkReference","identifier":"/block","label":"/block","referenceType":"shortcut","children":[{"type":"text","value":"/block","position":{"start":{"line":73,"column":2,"offset":3831},"end":{"line":73,"column":8,"offset":3837},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":3830},"end":{"line":73,"column":9,"offset":3838},"indent":[]}},{"type":"text","value":"\nCreate a new Clone Data Preserver for the ","position":{"start":{"line":73,"column":9,"offset":3838},"end":{"line":74,"column":43,"offset":3881},"indent":[1]}},{"type":"inlineCode","value":"sys_user_group","position":{"start":{"line":74,"column":43,"offset":3881},"end":{"line":74,"column":59,"offset":3897},"indent":[]}},{"type":"text","value":" table with the following conditions:\n","position":{"start":{"line":74,"column":59,"offset":3897},"end":{"line":75,"column":1,"offset":3935},"indent":[1]}},{"type":"linkReference","identifier":"block:image","label":"block:image","referenceType":"shortcut","children":[{"type":"text","value":"block:image","position":{"start":{"line":75,"column":2,"offset":3936},"end":{"line":75,"column":13,"offset":3947},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":3935},"end":{"line":75,"column":14,"offset":3948},"indent":[]}},{"type":"text","value":"\n{\n  \"images\": [\n    {\n      \"image\": ","position":{"start":{"line":75,"column":14,"offset":3948},"end":{"line":79,"column":16,"offset":3986},"indent":[1,1,1,1]}},{"type":"linkReference","identifier":" \"https://files.readme.io/3939763-cdp-ag-mappings.png\", \"cdp-ag-mappings.png\", 2800, 1106, \"#f9f9f9\" ","label":"\n        \"https://files.readme.io/3939763-CDP-AG-Mappings.png\",\n        \"CDP-AG-Mappings.png\",\n        2800,\n        1106,\n        \"#f9f9f9\"\n      ","referenceType":"shortcut","children":[{"type":"text","value":"\n        \"https://files.readme.io/3939763-CDP-AG-Mappings.png\",\n        \"CDP-AG-Mappings.png\",\n        2800,\n        1106,\n        \"#f9f9f9\"\n      ","position":{"start":{"line":79,"column":17,"offset":3987},"end":{"line":85,"column":7,"offset":4134},"indent":[1,1,1,1,1,1]}}],"position":{"start":{"line":79,"column":16,"offset":3986},"end":{"line":85,"column":8,"offset":4135},"indent":[1,1,1,1,1,1]}},{"type":"text","value":"\n    }\n  ]\n}\n","position":{"start":{"line":85,"column":8,"offset":4135},"end":{"line":89,"column":1,"offset":4148},"indent":[1,1,1,1]}},{"type":"linkReference","identifier":"/block","label":"/block","referenceType":"shortcut","children":[{"type":"text","value":"/block","position":{"start":{"line":89,"column":2,"offset":4149},"end":{"line":89,"column":8,"offset":4155},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":4148},"end":{"line":89,"column":9,"offset":4156},"indent":[]}},{"type":"text","value":"\nLastly, create a new Clone Data Preserver for the ","position":{"start":{"line":89,"column":9,"offset":4156},"end":{"line":90,"column":51,"offset":4207},"indent":[1]}},{"type":"inlineCode","value":"cmdb_ci ","position":{"start":{"line":90,"column":51,"offset":4207},"end":{"line":90,"column":61,"offset":4217},"indent":[]}},{"type":"text","value":" table with the following conditions:\n","position":{"start":{"line":90,"column":61,"offset":4217},"end":{"line":91,"column":1,"offset":4255},"indent":[1]}},{"type":"linkReference","identifier":"block:image","label":"block:image","referenceType":"shortcut","children":[{"type":"text","value":"block:image","position":{"start":{"line":91,"column":2,"offset":4256},"end":{"line":91,"column":13,"offset":4267},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":4255},"end":{"line":91,"column":14,"offset":4268},"indent":[]}},{"type":"text","value":"\n{\n  \"images\": [\n    {\n      \"image\": ","position":{"start":{"line":91,"column":14,"offset":4268},"end":{"line":95,"column":16,"offset":4306},"indent":[1,1,1,1]}},{"type":"linkReference","identifier":" \"https://files.readme.io/e3eac54-cdp-ci-mappings.png\", \"cdp-ci-mappings.png\", 2806, 848, \"#f8f8f8\" ","label":"\n        \"https://files.readme.io/e3eac54-CDP-CI-Mappings.png\",\n        \"CDP-CI-Mappings.png\",\n        2806,\n        848,\n        \"#f8f8f8\"\n      ","referenceType":"shortcut","children":[{"type":"text","value":"\n        \"https://files.readme.io/e3eac54-CDP-CI-Mappings.png\",\n        \"CDP-CI-Mappings.png\",\n        2806,\n        848,\n        \"#f8f8f8\"\n      ","position":{"start":{"line":95,"column":17,"offset":4307},"end":{"line":101,"column":7,"offset":4453},"indent":[1,1,1,1,1,1]}}],"position":{"start":{"line":95,"column":16,"offset":4306},"end":{"line":101,"column":8,"offset":4454},"indent":[1,1,1,1,1,1]}},{"type":"text","value":"\n    }\n  ]\n}\n","position":{"start":{"line":101,"column":8,"offset":4454},"end":{"line":105,"column":1,"offset":4467},"indent":[1,1,1,1]}},{"type":"linkReference","identifier":"/block","label":"/block","referenceType":"shortcut","children":[{"type":"text","value":"/block","position":{"start":{"line":105,"column":2,"offset":4468},"end":{"line":105,"column":8,"offset":4474},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":4467},"end":{"line":105,"column":9,"offset":4475},"indent":[]}},{"type":"text","value":"\nNote that for the Users, Assignment Groups, and Configuration Items preservers above, it will preserve the entire record in the target instance, not just the PagerDuty ID values within that record. Additionally, these conditions are tailored for the out-of-box integration. Customers who have implemented customizations to the PagerDuty ID Fields may need to alter their queries for each Clone Data Preserver.","position":{"start":{"line":105,"column":9,"offset":4475},"end":{"line":106,"column":410,"offset":4885},"indent":[1]}}],"position":{"start":{"line":58,"column":1,"offset":3446},"end":{"line":106,"column":410,"offset":4885},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"ServiceNow: Using the Clone Data Preserver\",\"slug\":\"servicenow-using-the-clone-data-preserver\",\"hidden\":false,\"createdAt\":\"2018-08-22T18:17:11.299Z\",\"updatedAt\":\"2020-05-01T19:57:01.942Z\"}","position":{"start":{"line":108,"column":1,"offset":4887},"end":{"line":108,"column":227,"offset":5113},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":108,"column":227,"offset":5113}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"ServiceNow: Using the Clone Data Preserver\",\n  \"slug\": \"servicenow-using-the-clone-data-preserver\",\n  \"hidden\": false,\n  \"createdAt\": \"2018-08-22T18:17:11.299Z\",\n  \"updatedAt\": \"2020-05-01T19:57:01.942Z\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In some cases, you may want to clone your ServiceNow production data to a new dev instance. While there can be many motivations for doing so, problems with the PagerDuty integration can occur if the data is cloned without using a Clone Data Preserver. In this article we'll discuss how to avoid common issues that come with replicating an environment in ServiceNow.\"), mdx(\"h2\", {\n    \"id\": \"what-is-the-clone-data-preserver\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#what-is-the-clone-data-preserver\",\n    \"aria-label\": \"what is the clone data preserver permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"What is the Clone Data Preserver?\"), mdx(\"p\", null, \"The Clone Data Preserver is a feature within ServiceNow that you can use to define what data should \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"not\"), \" be replaced when cloning one environment into another. \"), mdx(\"h2\", {\n    \"id\": \"why-should-i-use-this\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#why-should-i-use-this\",\n    \"aria-label\": \"why should i use this permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Why should I use this?\"), mdx(\"p\", null, \"When you clone your environment, you also clone the PagerDuty integration. When this happens you lose PagerDuty configuration in the target destination, such as the CI or AG mappings, service IDs, and API keys. To clone the PagerDuty integration and have it remain in a functional state, you'll need to utilize the Clone Data Preserver to preserve certain PagerDuty fields beforehand. In the walkthrough below, we'll be creating the Clone Data Preservers in our Production environment, prior to cloning anything to our Dev instance.\\n\", \"[block:callout]\", \"\\n{\\n\\\"type\\\": \\\"info\\\",\\n\\\"title\\\": \\\"Required Permissions\\\",\\n\\\"body\\\": \\\"Please keep in mind that in order to use the Clone Data Preserver feature, your ServiceNow role must include \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"clone_admin\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"admin\"), \"\\\"\\n}\\n\", \"[/block]\"), mdx(\"h2\", {\n    \"id\": \"creating-the-clone-data-preservers-by-importing-an-update-set\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#creating-the-clone-data-preservers-by-importing-an-update-set\",\n    \"aria-label\": \"creating the clone data preservers by importing an update set permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Creating the Clone Data Preservers by Importing an Update Set\"), mdx(\"p\", null, \"As an alternative to creating the Clone Data Preservers manually, you can import one of the following update sets to the origin ServiceNow instance. In keeping with our prod to dev example, you would import the appropriate update set onto your prod instance before cloning over to your new dev instance. \"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/PagerDuty/servicenow-updatesets\"\n  }), \"This update set\"), \" will work for both v5 and v6 of the PagerDuty integration.\"), mdx(\"p\", null, \"Note that this update set only preserves the PagerDuty Settings configuration. To preserve the mappings for Users, Assignment Groups, and Configuration Items, a ServiceNow administrator can follow the instructions below to manually preserve those records. \"), mdx(\"h2\", {\n    \"id\": \"creating-the-clone-data-preservers-manually\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#creating-the-clone-data-preservers-manually\",\n    \"aria-label\": \"creating the clone data preservers manually permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Creating the Clone Data Preservers Manually\"), mdx(\"p\", null, \"To begin, navigate to System Clone :fa-arrow-right: Preserve Data, and select New. We'll begin by addressing the PagerDuty fields in the sys_properties table. In total, we will make 4 separate Clone Data Preservers.\"), mdx(\"p\", null, \"Once you've created a new record for the Clone Data Preserver, select the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"sys_properties\"), \" table, as shown in the below screenshot. Try to make the name of the Clone Data Preserver as descriptive as possible for your own reference later.\"), mdx(\"p\", null, \"[block:image]\", \"\\n{\\n\\\"images\\\": [\\n{\\n\\\"image\\\": \", \"[\\n\\\"https://files.readme.io/903b701-Clone_Data_Preserver.png\\\",\\n\\\"Clone_Data_Preserver.png\\\",\\n2162,\\n632,\\n\\\"#f3f3f4\\\"\\n]\", \"\\n}\\n]\\n}\\n\", \"[/block]\", \"\\nFrom here, we're going to be creating \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"OR\"), \" conditions for the following Names. \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.default_user OR\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.instance_url OR\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.sn2pd_mapping OR\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.default_service OR\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.api_key OR\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.webhook_restapi OR\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.sn_auth_user OR\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Name Is\"), \" x_pd_integration.sn_auth_userpwd\")), mdx(\"p\", null, \"Go ahead and save your changes. Once this Clone Data Preserver is created, we'll \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"create another for the \", mdx(\"inlineCode\", {\n    parentName: \"strong\"\n  }, \"sys_user\"), \" table.\"), \" \"), mdx(\"p\", null, \"Navigate to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"System Clone :fa-arrow-right: Preserve Data\"), \", and select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"New\"), \".  Select \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sys_user\"), \" as your table, and add the following condition and save your changes:\\n\", \"[block:image]\", \"\\n{\\n\\\"images\\\": [\\n{\\n\\\"image\\\": \", \"[\\n\\\"https://files.readme.io/22badca-CDP-User-Mapping.png\\\",\\n\\\"CDP-User-Mapping.png\\\",\\n2802,\\n760,\\n\\\"#f7f8f8\\\"\\n]\", \"\\n}\\n]\\n}\\n\", \"[/block]\", \"\\nCreate a new Clone Data Preserver for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sys_user_group\"), \" table with the following conditions:\\n\", \"[block:image]\", \"\\n{\\n\\\"images\\\": [\\n{\\n\\\"image\\\": \", \"[\\n\\\"https://files.readme.io/3939763-CDP-AG-Mappings.png\\\",\\n\\\"CDP-AG-Mappings.png\\\",\\n2800,\\n1106,\\n\\\"#f9f9f9\\\"\\n]\", \"\\n}\\n]\\n}\\n\", \"[/block]\", \"\\nLastly, create a new Clone Data Preserver for the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cmdb_ci \"), \" table with the following conditions:\\n\", \"[block:image]\", \"\\n{\\n\\\"images\\\": [\\n{\\n\\\"image\\\": \", \"[\\n\\\"https://files.readme.io/e3eac54-CDP-CI-Mappings.png\\\",\\n\\\"CDP-CI-Mappings.png\\\",\\n2806,\\n848,\\n\\\"#f8f8f8\\\"\\n]\", \"\\n}\\n]\\n}\\n\", \"[/block]\", \"\\nNote that for the Users, Assignment Groups, and Configuration Items preservers above, it will preserve the entire record in the target instance, not just the PagerDuty ID values within that record. Additionally, these conditions are tailored for the out-of-box integration. Customers who have implemented customizations to the PagerDuty ID Fields may need to alter their queries for each Clone Data Preserver.\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"title\": \"ServiceNow: Using the Clone Data Preserver\",\n  \"slug\": \"servicenow-using-the-clone-data-preserver\",\n  \"hidden\": false,\n  \"createdAt\": \"2018-08-22T18:17:11.299Z\",\n  \"updatedAt\": \"2020-05-01T19:57:01.942Z\"\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <p>{`In some cases, you may want to clone your ServiceNow production data to a new dev instance. While there can be many motivations for doing so, problems with the PagerDuty integration can occur if the data is cloned without using a Clone Data Preserver. In this article we'll discuss how to avoid common issues that come with replicating an environment in ServiceNow.`}</p>\n    <h2 {...{\n      \"id\": \"what-is-the-clone-data-preserver\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#what-is-the-clone-data-preserver\",\n        \"aria-label\": \"what is the clone data preserver permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`What is the Clone Data Preserver?`}</h2>\n    <p>{`The Clone Data Preserver is a feature within ServiceNow that you can use to define what data should `}<strong parentName=\"p\">{`not`}</strong>{` be replaced when cloning one environment into another. `}</p>\n    <h2 {...{\n      \"id\": \"why-should-i-use-this\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#why-should-i-use-this\",\n        \"aria-label\": \"why should i use this permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Why should I use this?`}</h2>\n    <p>{`When you clone your environment, you also clone the PagerDuty integration. When this happens you lose PagerDuty configuration in the target destination, such as the CI or AG mappings, service IDs, and API keys. To clone the PagerDuty integration and have it remain in a functional state, you'll need to utilize the Clone Data Preserver to preserve certain PagerDuty fields beforehand. In the walkthrough below, we'll be creating the Clone Data Preservers in our Production environment, prior to cloning anything to our Dev instance.\n`}{`[block:callout]`}{`\n{\n\"type\": \"info\",\n\"title\": \"Required Permissions\",\n\"body\": \"Please keep in mind that in order to use the Clone Data Preserver feature, your ServiceNow role must include `}<inlineCode parentName=\"p\">{`clone_admin`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`admin`}</inlineCode>{`\"\n}\n`}{`[/block]`}</p>\n    <h2 {...{\n      \"id\": \"creating-the-clone-data-preservers-by-importing-an-update-set\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#creating-the-clone-data-preservers-by-importing-an-update-set\",\n        \"aria-label\": \"creating the clone data preservers by importing an update set permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Creating the Clone Data Preservers by Importing an Update Set`}</h2>\n    <p>{`As an alternative to creating the Clone Data Preservers manually, you can import one of the following update sets to the origin ServiceNow instance. In keeping with our prod to dev example, you would import the appropriate update set onto your prod instance before cloning over to your new dev instance. `}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://github.com/PagerDuty/servicenow-updatesets\"\n      }}>{`This update set`}</a>{` will work for both v5 and v6 of the PagerDuty integration.`}</p>\n    <p>{`Note that this update set only preserves the PagerDuty Settings configuration. To preserve the mappings for Users, Assignment Groups, and Configuration Items, a ServiceNow administrator can follow the instructions below to manually preserve those records. `}</p>\n    <h2 {...{\n      \"id\": \"creating-the-clone-data-preservers-manually\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#creating-the-clone-data-preservers-manually\",\n        \"aria-label\": \"creating the clone data preservers manually permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Creating the Clone Data Preservers Manually`}</h2>\n    <p>{`To begin, navigate to System Clone :fa-arrow-right: Preserve Data, and select New. We'll begin by addressing the PagerDuty fields in the sys_properties table. In total, we will make 4 separate Clone Data Preservers.`}</p>\n    <p>{`Once you've created a new record for the Clone Data Preserver, select the `}<strong parentName=\"p\">{`sys_properties`}</strong>{` table, as shown in the below screenshot. Try to make the name of the Clone Data Preserver as descriptive as possible for your own reference later.`}</p>\n    <p>{`[block:image]`}{`\n{\n\"images\": [\n{\n\"image\": `}{`[\n\"https://files.readme.io/903b701-Clone_Data_Preserver.png\",\n\"Clone_Data_Preserver.png\",\n2162,\n632,\n\"#f3f3f4\"\n]`}{`\n}\n]\n}\n`}{`[/block]`}{`\nFrom here, we're going to be creating `}<strong parentName=\"p\">{`OR`}</strong>{` conditions for the following Names. `}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.default_user OR`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.instance_url OR`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.sn2pd_mapping OR`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.default_service OR`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.api_key OR`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.webhook_restapi OR`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.sn_auth_user OR`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Name Is`}</strong>{` x_pd_integration.sn_auth_userpwd`}</li>\n    </ul>\n    <p>{`Go ahead and save your changes. Once this Clone Data Preserver is created, we'll `}<strong parentName=\"p\">{`create another for the `}<inlineCode parentName=\"strong\">{`sys_user`}</inlineCode>{` table.`}</strong>{` `}</p>\n    <p>{`Navigate to `}<strong parentName=\"p\">{`System Clone :fa-arrow-right: Preserve Data`}</strong>{`, and select `}<strong parentName=\"p\">{`New`}</strong>{`.  Select `}<inlineCode parentName=\"p\">{`sys_user`}</inlineCode>{` as your table, and add the following condition and save your changes:\n`}{`[block:image]`}{`\n{\n\"images\": [\n{\n\"image\": `}{`[\n\"https://files.readme.io/22badca-CDP-User-Mapping.png\",\n\"CDP-User-Mapping.png\",\n2802,\n760,\n\"#f7f8f8\"\n]`}{`\n}\n]\n}\n`}{`[/block]`}{`\nCreate a new Clone Data Preserver for the `}<inlineCode parentName=\"p\">{`sys_user_group`}</inlineCode>{` table with the following conditions:\n`}{`[block:image]`}{`\n{\n\"images\": [\n{\n\"image\": `}{`[\n\"https://files.readme.io/3939763-CDP-AG-Mappings.png\",\n\"CDP-AG-Mappings.png\",\n2800,\n1106,\n\"#f9f9f9\"\n]`}{`\n}\n]\n}\n`}{`[/block]`}{`\nLastly, create a new Clone Data Preserver for the `}<inlineCode parentName=\"p\">{`cmdb_ci `}</inlineCode>{` table with the following conditions:\n`}{`[block:image]`}{`\n{\n\"images\": [\n{\n\"image\": `}{`[\n\"https://files.readme.io/e3eac54-CDP-CI-Mappings.png\",\n\"CDP-CI-Mappings.png\",\n2806,\n848,\n\"#f8f8f8\"\n]`}{`\n}\n]\n}\n`}{`[/block]`}{`\nNote that for the Users, Assignment Groups, and Configuration Items preservers above, it will preserve the entire record in the target instance, not just the PagerDuty ID values within that record. Additionally, these conditions are tailored for the out-of-box integration. Customers who have implemented customizations to the PagerDuty ID Fields may need to alter their queries for each Clone Data Preserver.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}