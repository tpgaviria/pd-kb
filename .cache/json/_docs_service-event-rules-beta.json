{"data":{"mdx":{"id":"2c2b6bcd-9932-5929-9dec-57d01f9f8f86","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Service Event Rules - Beta\",\n  \"slug\": \"service-event-rules-beta\",\n  \"hidden\": true,\n  \"createdAt\": \"2019-04-22T22:13:03.759Z\",\n  \"updatedAt\": \"2020-10-09T22:40:43.143Z\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"[block:callout]\", \"\\n{\\n\\\"type\\\": \\\"info\\\",\\n\\\"title\\\": \\\"Beta Notes\\\",\\n\\\"body\\\": \\\"The following article references functionality that is not yet generally available. While it is being developed, you may see changes to the look and feel and features available. If you are interested in accessing this early beta functionality, please \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"mailto:support@pagerduty.com\"\n  }), \"contact PagerDuty Support\"), \".\\\"\\n}\\n\", \"[/block]\", \"\\nService Event Rules define automated actions to take on alerts created by services, based on the inbound events' payloads. All events that are sent to a Service, either via Global Event Routing or directly integrated with a Service Integration, are filtered through Service Event Rules. These rules perform actions on events and dictate how they turn into incidents on a service.\"), mdx(\"h2\", {\n    \"id\": \"service-event-rule-actions\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#service-event-rule-actions\",\n    \"aria-label\": \"service event rule actions permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Service Event Rule Actions\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Tailoring event actions as trigger / resolve\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Field extraction for the duplication key, summary or description\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/dynamic-notifications\"\n  }), \"Changing the severity\"), \" of the resulting alert.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/event-management#section-suppression-and-event-rules\"\n  }), \"Suppressing\"), \" the alert altogether \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Adjusting incident behavior (available with \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/event-intelligence\"\n  }), \"Event Intelligence\"), \" only):\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Waiting to create an incident until a given threshold of identical events occur within a set time limit.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Adding contextual notes to an incident.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Changing the priority of the incident.\")))), mdx(\"p\", null, \"Service Event Rules can be scheduled for a specific time or on a recurring schedule with the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/event-intelligence\"\n  }), \"Event Intelligence\"), \" package. They can also be used on services that use vendor-specific and API-based integrations with JSON/\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/pd-cef\"\n  }), \"PD-CEF\"), \" fields. For email integrations, we recommend utilizing \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/email-management-filters-and-rules#section-trigger-and-resolve-alerts-with-email-management-rules\"\n  }), \"email management rules\"), \". \"), mdx(\"h2\", {\n    \"id\": \"creating-and-formatting-service-event-rules\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#creating-and-formatting-service-event-rules\",\n    \"aria-label\": \"creating and formatting service event rules permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Creating and Formatting Service Event Rules\"), mdx(\"p\", null, \"To use event rules on a service, that service must first be set to create \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/alerts#section-getting-started-with-alerts-and-incidents\"\n  }), \"alerts and incidents\"), \" for inbound events. To do this, go to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Services\"), \", select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Service Directory\"), \" and then select the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"service\"), \" where you would like to configure event rules. Click \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Edit Service\"), \", locate the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Incident Behavior\"), \" section at the bottom of the screen and select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create alerts and incidents\"), \".\\n\", \"[block:image]\", \"\\n{\\n\\\"images\\\": [\\n{\\n\\\"image\\\": \", \"[\\n\\\"https://files.readme.io/f5d0156-service-event-rules-service-settings.png\\\",\\n\\\"service-event-rules-service-settings.png\\\",\\n2216,\\n380,\\n\\\"#f6f6f6\\\"\\n]\", \"\\n}\\n]\\n}\\n\", \"[/block]\"), mdx(\"p\", null, \"[block:image]\", \"\\n{\\n\\\"images\\\": [\\n{\\n\\\"image\\\": \", \"[\\n\\\"https://files.readme.io/9c2009a-service-event-rules-incident-behavior.png\\\",\\n\\\"service-event-rules-incident-behavior.png\\\",\\n1388,\\n318,\\n\\\"#f6f6f7\\\"\\n]\", \"\\n}\\n]\\n}\\n\", \"[/block]\", \"\\nRules can then be added from the individual service page in the Event Rules tab. Applying rules to a service undergoes the same process as creating \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/global-event-routing#section-accessing-creating-and-formatting-event-rules\"\n  }), \"global event rules\"), \".\\n\", \"[block:image]\", \"\\n{\\n\\\"images\\\": [\\n{\\n\\\"image\\\": \", \"[\\n\\\"https://files.readme.io/dff3d34-service-event-rules-event-rules-tab.png\\\",\\n\\\"service-event-rules-event-rules-tab.png\\\",\\n1706,\\n700,\\n\\\"#f5f8f6\\\"\\n]\", \"\\n}\\n]\\n}\\n\", \"[/block]\", \"\\nService Event Rules operate on CEF fields in order to normalize incoming events, particularly those that have been routed by way of a global event rule. The dropdown is populated by the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://support.pagerduty.com/docs/pd-cef\"\n  }), \"mapped CEF fields\"), \" that allow users to create rule conditions. \"), mdx(\"p\", null, \"##Formatting Rules \"), mdx(\"p\", null, \"Supported Operations:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A field contains/does not contain a value.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A field equals/does not equal a value.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A field exists/does not exist.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A field matches/does not match a regular expression. Regular expressions must use \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/google/re2/wiki/Syntax\"\n  }), \"RE2 syntax\"), \". Service Event Rules only support one (e.g. the first) capture group within the regex.\")), mdx(\"p\", null, \"If you are new to regex, we suggest testing your rules with an online regex tester. \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://regex101.com/\"\n  }), \"regex101\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://rubular.com/r/G0ViTWxgFO\"\n  }), \"rubular\"), \" are both excellent tools.\"), mdx(\"p\", null, \"##Using Negative Operations\"), mdx(\"p\", null, \"Rules with negative operations, such as \\u201Cdoes not contain\\u201D or \\u201Cdoes not equal\\u201D, will match events when the field in question does not exist. \"), mdx(\"p\", null, \"For example:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"severity field does not equal \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"critical\"))), mdx(\"p\", null, \"These rules will also match any events where the severity field does not exist. If you'd like to avoid this, you must add an additional condition that matches only when the field exists. For example:\"), mdx(\"p\", null, \"For example, when all conditions are true:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"severity field exists\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"severity field does not equal \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"critical\"))), mdx(\"p\", null, \"Note that you must select that all conditions must be true for the rule to match.\"), mdx(\"h2\", {\n    \"id\": \"faq\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#faq\",\n    \"aria-label\": \"faq permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"FAQ\"), mdx(\"p\", null, \"##When should I use Service Rules vs Global Event Routing?\\nPagerDuty Event Rules can be applied either globally or on individual services. This allows rules to affect different scopes of control without interfering with each other. Note that event routing can only be performed at the global rules level.\"), mdx(\"p\", null, \"We recommend implementing rules at the smallest applicable scope. For example, if a particular service is going under maintenance, it is better to implement a suppression rule on that service than a global rule scoped to only that service. This results in fewer rules in the global ruleset, and more visibility for the service owners into actions affecting their alerts.\"), mdx(\"p\", null, \"##Why can\\u2019t I see the Event Rules tab?\\nThe event rules tab is only available for services that you have enabled to create alerts. Some integrations do not allow you to create alerts.\"), mdx(\"p\", null, \"##What are the differences between Global Event Routing and Service Event Rules?\\nGlobal Event Routing and Service Level Rules are designed to work together. Global Event Routing captures events through a global integration endpoint; from there, administrators can write rules to suppress or route events to specific services. Any well-formed event sent to the global integration endpoint that does not qualify for any of the defined rules will be automatically suppressed using the \\u2018catch-all\\u2019 rule and will not be routed to a service.\\nService event rules do not have a default catch-all rule. When an event arrives at a service, the mandatory fields that a catch-all rule would provide already exist via the service\\u2019s configuration.\\nEvents can be directed to a service either through the Global Event Routing rule or a direct integration on the service. You do not need to set up a separate integration key to use Service Event Rules.\"));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#service-event-rule-actions","title":"Service Event Rule Actions"},{"url":"#creating-and-formatting-service-event-rules","title":"Creating and Formatting Service Event Rules"},{"url":"#faq","title":"FAQ"}]},"frontmatter":{"title":"Service Event Rules - Beta"}}},"pageContext":{"id":"2c2b6bcd-9932-5929-9dec-57d01f9f8f86"}}